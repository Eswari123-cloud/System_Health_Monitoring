import sqlite3
import pandas as pd

# Connect to the SQLite database
def connect_to_db(db_filename):
    try:
        conn = sqlite3.connect(db_filename)
        return conn
    except sqlite3.Error as e:
        print(f"Failed to connect to database: {str(e)}")
        return None

# Fetch server details from the database
def fetch_servers_from_db(conn):
    try:
        query = "SELECT hostname FROM servers"
        df = pd.read_sql_query(query, conn)
        servers = df['hostname'].tolist()
        return servers
    except Exception as e:
        print(f"Failed to fetch servers from database: {str(e)}")
        return []

# Load servers from the database
DATABASE_FILENAME = 'servers.db'
conn = connect_to_db(DATABASE_FILENAME)
servers = fetch_servers_from_db(conn)
conn.close()
